import{a1 as C,a2 as y,a3 as E}from"./theme.D4xjM7YD.js";import{d as g,p as d,D as P,v as O,q as $,o as h,c as w,s as b,as as F}from"./framework._j0QeVG-.js";var D=Object.defineProperty,B=Object.defineProperties,j=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,_=(e,t,o)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,A=(e,t)=>{for(var o in t||(t={}))H.call(t,o)&&_(e,o,t[o]);if(m)for(var o of m(t))S.call(t,o)&&_(e,o,t[o]);return e},M=(e,t)=>B(e,j(t));function u(e){let t=`请使用 '@${e}' 事件，不要放在 props 中`;return t+=`
Please use '@${e}' event instead of props`,t}var v=(e,t)=>{for(const[o,a]of t)e[o]=a;return e};const V=g({props:{mode:{type:String,default:"default"},defaultContent:{type:Array,default:[]},defaultHtml:{type:String,default:""},defaultConfig:{type:Object,default:{}},modelValue:{type:String,default:""}},setup(e,t){const o=d(null),a=P(null),i=d(""),s=()=>{if(!o.value)return;const l=F(e.defaultContent);C({selector:o.value,mode:e.mode,content:l||[],html:e.defaultHtml||e.modelValue||"",config:M(A({},e.defaultConfig),{onCreated(r){if(a.value=r,t.emit("onCreated",r),e.defaultConfig.onCreated){const n=u("onCreated");throw new Error(n)}},onChange(r){const n=r.getHtml();if(i.value=n,t.emit("update:modelValue",n),t.emit("onChange",r),e.defaultConfig.onChange){const f=u("onChange");throw new Error(f)}},onDestroyed(r){if(t.emit("onDestroyed",r),e.defaultConfig.onDestroyed){const n=u("onDestroyed");throw new Error(n)}},onMaxLength(r){if(t.emit("onMaxLength",r),e.defaultConfig.onMaxLength){const n=u("onMaxLength");throw new Error(n)}},onFocus(r){if(t.emit("onFocus",r),e.defaultConfig.onFocus){const n=u("onFocus");throw new Error(n)}},onBlur(r){if(t.emit("onBlur",r),e.defaultConfig.onBlur){const n=u("onBlur");throw new Error(n)}},customAlert(r,n){if(t.emit("customAlert",r,n),e.defaultConfig.customAlert){const f=u("customAlert");throw new Error(f)}},customPaste:(r,n)=>{if(e.defaultConfig.customPaste){const c=u("customPaste");throw new Error(c)}let f;return t.emit("customPaste",r,n,c=>{f=c}),f}})})};function p(l){const r=a.value;r!=null&&r.setHtml(l)}return O(()=>{s()}),$(()=>e.modelValue,l=>{l!==i.value&&p(l)}),{box:o}}}),L={ref:"box",style:{height:"100%"}};function I(e,t,o,a,i,s){return h(),w("div",L,null,512)}var N=v(V,[["render",I]]);const R=g({props:{editor:{type:Object},mode:{type:String,default:"default"},defaultConfig:{type:Object,default:{}}},setup(e){const t=d(null),o=a=>{if(t.value){if(a==null)throw new Error("Not found instance of Editor when create <Toolbar/> component");y.getToolbar(a)||E({editor:a,selector:t.value||"<div></div>",mode:e.mode,config:e.defaultConfig})}};return b(()=>{const{editor:a}=e;a!=null&&o(a)}),{selector:t}}}),T={ref:"selector"};function x(e,t,o,a,i,s){return h(),w("div",T,null,512)}var Q=v(R,[["render",x]]);export{N as Editor,Q as Toolbar};
