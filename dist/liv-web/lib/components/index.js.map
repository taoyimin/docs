{"version":3,"file":"index.js","sources":["../../../../packages/components/index.ts"],"sourcesContent":["import { type IDomEditor, Boot } from '@wangeditor/editor';\r\nimport '@amap/amap-jsapi-types';\r\n\r\n// if (!import.meta.env.SSR) {\r\n//   // 必须在创建编辑器之前注册，全局只能注册一次，不要重复注册\r\n//   import('@wangeditor/editor').then(model => {\r\n//     model.Boot.registerPlugin(withGetHtml);\r\n//   });\r\n// }\r\n\r\nBoot.registerPlugin(withGetHtml);\r\n\r\n/**\r\n * 重写遍历器逻辑\r\n * @remarks 解决富文本编辑器没有输入内容仍然通过表单非空校验的问题\r\n * @param editor 编辑器实例\r\n * @returns 重写后的编辑器实例\r\n */\r\nfunction withGetHtml<T extends IDomEditor>(editor: T): T {\r\n  const { getHtml } = editor;\r\n  const newEditor = editor;\r\n\r\n  newEditor.getHtml = () => {\r\n    if (getHtml() === '<p><br></p>') return '';\r\n    if (getHtml() === '<h1></h1>') return '';\r\n    if (getHtml() === '<h2></h2>') return '';\r\n    if (getHtml() === '<h3></h3>') return '';\r\n    if (getHtml() === '<h4></h4>') return '';\r\n    if (getHtml() === '<h5></h5>') return '';\r\n    return getHtml();\r\n  };\r\n  return newEditor;\r\n}\r\n\r\n// components\r\nexport * from './a-map';\r\nexport * from './cascader';\r\nexport * from './checkbox';\r\nexport * from './data-card';\r\nexport * from './data-descriptions';\r\nexport * from './data-form';\r\nexport * from './data-pagination';\r\nexport * from './data-table';\r\nexport * from './dict-select';\r\nexport * from './form-item';\r\nexport * from './grid-cascader';\r\nexport * from './grid-tree';\r\nexport * from './location-picker';\r\nexport * from './number-range';\r\nexport * from './qr-code';\r\nexport * from './radio';\r\nexport * from './rich-text';\r\nexport * from './search-form';\r\nexport * from './select';\r\nexport * from './verify';\r\n\r\n// plugins\r\nexport * from './authority';\r\nexport * from './remove';\r\n"],"names":["Boot"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUAA,WAAA,CAAK,eAAe,WAAW,CAAA,CAAA;AAQ/B,SAAS,YAAkC,MAAc,EAAA;AACvD,EAAM,MAAA,EAAE,SAAY,GAAA,MAAA,CAAA;AACpB,EAAA,MAAM,SAAY,GAAA,MAAA,CAAA;AAElB,EAAA,SAAA,CAAU,UAAU,MAAM;AACxB,IAAI,IAAA,OAAA,EAAc,KAAA,aAAA,EAAsB,OAAA,EAAA,CAAA;AACxC,IAAI,IAAA,OAAA,EAAc,KAAA,WAAA,EAAoB,OAAA,EAAA,CAAA;AACtC,IAAI,IAAA,OAAA,EAAc,KAAA,WAAA,EAAoB,OAAA,EAAA,CAAA;AACtC,IAAI,IAAA,OAAA,EAAc,KAAA,WAAA,EAAoB,OAAA,EAAA,CAAA;AACtC,IAAI,IAAA,OAAA,EAAc,KAAA,WAAA,EAAoB,OAAA,EAAA,CAAA;AACtC,IAAI,IAAA,OAAA,EAAc,KAAA,WAAA,EAAoB,OAAA,EAAA,CAAA;AACtC,IAAA,OAAO,OAAQ,EAAA,CAAA;AAAA,GACjB,CAAA;AACA,EAAO,OAAA,SAAA,CAAA;AACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}