{"version":3,"file":"authority.mjs","sources":["../../../../../packages/utils/inject/authority.ts"],"sourcesContent":["import { CHECK_AUTHORITY_KEY } from '@liv-web/constants';\r\nimport { inject } from 'vue';\r\n\r\n/**\r\n * 校验权限方法\r\n */\r\nexport type CheckAuthorityFunction = (authority: string) => boolean;\r\n\r\n/**\r\n * 注入校验权限方法\r\n */\r\nexport function injectCheckAuthority() {\r\n  const checkAuthority = inject(CHECK_AUTHORITY_KEY, undefined);\r\n  if (checkAuthority) {\r\n    return checkAuthority;\r\n  } else {\r\n    return () => {\r\n      Promise.reject(new Error('[liv-web/utils]请检查是否已注入校验权限方法。'));\r\n      return false;\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAWO,SAAS,oBAAuB,GAAA;AACrC,EAAM,MAAA,cAAA,GAAiB,MAAO,CAAA,mBAAA,EAAqB,KAAS,CAAA,CAAA,CAAA;AAC5D,EAAA,IAAI,cAAgB,EAAA;AAClB,IAAO,OAAA,cAAA,CAAA;AAAA,GACF,MAAA;AACL,IAAA,OAAO,MAAM;AACX,MAAA,OAAA,CAAQ,MAAO,CAAA,IAAI,KAAM,CAAA,2GAAgC,CAAC,CAAA,CAAA;AAC1D,MAAO,OAAA,KAAA,CAAA;AAAA,KACT,CAAA;AAAA,GACF;AACF;;;;"}